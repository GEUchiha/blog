<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
    <meta charset="UTF-8">
<link type="text/css" rel="stylesheet" href="/blog/public/css/main.css" />
<link type="text/css" rel="stylesheet" href="/blog/public/css/font-awesome.min.css" />
</head>

<body class="">

    <div id="head">
<ul>
  <li><a href="/blog">index</a></li>
</ul>

</div>


<div class="post container">
<h2><a href="/blog">首页</a> / Blog</h2>
  <div class="post-head">
    <h1 class="post-title">
      <a class="post-title-blog" href="">
        使用setTimeout传参数
      </a>
    </h1>
      <p class="post-info">
        
          转载
        
      </p>
      <span class="post-info">&nbsp2015/04/02  </span>
      <span class="post-info"><a href="/blog/category/index.html#"><i class="fa fa-book"></i></a></span>
      <span class="post-info"><a href="/blog/tag/index.html#"><i class="fa fa-tags"></i></a></span> 
      <span class="post-info">&nbsp<a href="/blog/tag/index.html#"></a></span>
      <span class="post-info">&nbsp<a href="/tag/index.html#"></a></span>
  </div><!--post head-->
  <div class="post-content">
    <p>今天在一个博客上看到了博客一条一条显示的效果觉得很优雅，所以也尝试做一个这样的效果。想法是使用setTimeout来控制条目的opacity，形成淡入的效果，在第一条淡入完成以后，再让第二条淡入。这样的话我的fade函数需要传入一个参数来控制是第几条条目。但是标准的setTimeout(fade，1000)，fade只是函数名，不带(),因此不能传入参数。如果直接setTimeout(fade(num),1000)会发现没有延时效果了</p>




<p>后来经过谷歌，得到解决方案可以使用闭包来返回一个没有参数的函数，代码如下</p>




<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">setTimeout</span><span class="p">(</span><span class="nx">ofade</span><span class="p">(</span><span class="nx">num</span><span class="p">),</span><span class="mi">1000</span><span class="p">);</span>
<span class="kd">function</span> <span class="nx">ofade</span><span class="p">(</span><span class="nx">num</span><span class="p">){</span>
    <span class="k">return</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="nx">fade</span><span class="p">(</span><span class="nx">num</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></div>



    
  </div>

  <div id="divider">
    
      <a class="" href="/blog/"><i class="fa fa-chevron-left"></i></a>
    
    
      <a class="" id="lastone"><i class="fa fa-circle"></i></a>
    
  </div>

<!-- <div class="comments"> -->
<h2>Comments</h2>
<!-- Disqus Comment BEGIN -->  
<!--duoshuo  start -->
	<div class="ds-thread" data-thread-key="fiona23" data-title="使用setTimeout传参数" data-url=""</div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"fiona23"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- 多说公共JS代码 end -->

<!-- Disqus Comment END -->

</div><!--post-->


   

    <div id="footer" class="container">
  <p>  Copyright © 2015 - <a href="/">fiona23</a> - Powered by 
    <a href="http://jekyllrb.com/">Jekyll</a>.
    <a href="http://github.com/">Github</a>
  </p>
</div>


    <script type="text/javascript" src="/blog/public/js/jquery-2.1.3.min.js" ></script>
    <script type="text/javascript" src="/blog/public/js/blog.js" ></script>
</body>
</html>
